_vars:
    PI: &PI 3.14159265359
    TAU: &TAU 6.283185307179586
    tx: &tx 32
    ty: &ty 12
    tz: &tz 38
    gt: &gt 16

rot_x:
    type: lerp_rel
    bypass: 0
    keyframes:
        - [*tx, *TAU]
        - [*tx, 0]

rot_y:
    type: lerp_rel
    bypass: _
    keyframes:
        - [*ty, *TAU]
        - [*ty, 0]

rot_z:
    type: lerp_rel
    bypass: _
    keyframes:
        - [*tz, *TAU]
        - [*tz, 0]

z_offset:
    type: slider
    range: [-5.0, -0.5]
    default: 3.0

scale:
    type: slider

texture_strength:
    type: slider
    range: [0.0, 2.0]

texture_scale:
    type: slider
    range: [0.0, 10.0]

glitch_time:
    type: lerp_rel
    keyframes:
        - [*gt, 0.0]
        - [*gt, 1.0]
        - [*gt, 0.0]

echo_threshold:
    type: slider

echo_intensity:
    type: slider

grid_contrast:
    type: slider

grid_size:
    type: slider
    range: [0, 16]
    step: 1.0

grid_border_size:
    type: slider

# corner_offset:
d2:
    type: triangle
    beats: 4

d3:
    type: slider
d4:
    type: slider

_corner_t_vars:
    ct: &ct 4
    corner_t_base: &corner_t_base
        type: triangle
        beats: 8
        range: [-1, 2]
        bypass: _

corner_t_1:
    <<: *corner_t_base
    phase: 0
corner_t_2:
    <<: *corner_t_base
    phase: 0.125
corner_t_3:
    <<: *corner_t_base
    phase: 0.25
corner_t_4:
    <<: *corner_t_base
    phase: 0.375
corner_t_5:
    <<: *corner_t_base
    phase: 0.5
corner_t_6:
    <<: *corner_t_base
    phase: 0.625
corner_t_7:
    <<: *corner_t_base
    phase: 0.75
corner_t_8:
    <<: *corner_t_base
    phase: 0.875
