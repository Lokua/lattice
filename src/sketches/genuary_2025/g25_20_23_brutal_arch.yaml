_vars:
    PI: &PI 3.14159265359
    TAU: &TAU 6.283185307179586
    rx: &rx 36
    ry: &ry 16
    rz: &rz 36
    gt: &gt 16

rot_x:
    type: lerp_rel
    bypass: _
    keyframes:
        - [*rx, *TAU]
        - [*rx, 0]

rot_y:
    type: lerp_rel
    bypass: _
    keyframes:
        - [*ry, *TAU]
        - [*ry, 0]

rot_z:
    type: lerp_rel
    bypass: _
    keyframes:
        - [*rz, *TAU]
        - [*rz, 0]

z_offset:
    type: slider
    range: [-5.0, -0.5]
    default: 3.0

scale:
    type: slider

texture_strength:
    type: slider
    range: [0.0, 2.0]

texture_scale:
    type: slider
    range: [0.0, 10.0]

glitch_time:
    type: lerp_rel
    keyframes:
        - [*gt, 0.0]
        - [*gt, 1.0]
        - [*gt, 0.0]

echo_threshold:
    type: slider

echo_intensity:
    type: lerp_rel
    bypass: 0
    keyframes:
        - [2.0, 0.0]
        - [1.0, 0.0]
        - [0.25, 0.0]
        - [0.5, 0.5]
        - [0.25, 1.0]
        - [0.0, 0.0]

grid_contrast:
    type: slider

grid_size:
    type: slider
    range: [0, 16]
    step: 1.0

grid_border_size:
    type: slider

corner_offset:
    type: triangle
    beats: 4

middle_offset:
    type: triangle
    bypass: _
    beats: 4
    phase: 0
    range: [-0.25, 1]

middle_size:
    type: triangle
    beats: 1.5
    phase: 0.5
    range: [-0.75, 1.0]

_corner_t_vars:
    ct: &ct 4
    corner_t_base: &corner_t_base
        type: triangle
        beats: 2
        range: [-1, 3]
        bypass: _
corner_t_1:
    <<: *corner_t_base
    phase: 0
corner_t_2:
    <<: *corner_t_base
    phase: 0.125
corner_t_3:
    <<: *corner_t_base
    phase: 0.25
corner_t_4:
    <<: *corner_t_base
    phase: 0.375
corner_t_5:
    <<: *corner_t_base
    phase: 0.5
corner_t_6:
    <<: *corner_t_base
    phase: 0.625
corner_t_7:
    <<: *corner_t_base
    phase: 0.75
corner_t_8:
    <<: *corner_t_base
    phase: 0.875

stag:
    type: slider
    range: [-1, 1]

diag:
    type: slider
    range: [-1, 1]

bulge:
    type: slider
    range: [-1, 1]

offs:
    type: slider
    range: [0, 1]

bg_noise:
    type: slider
    range: [0, 1]

bg_noise_scale:
    type: slider
    range: [0, 100]

h3:
    type: slider
h4:
    type: slider
i1:
    type: slider
i2:
    type: slider
i3:
    type: slider
i4:
    type: slider
