info:
  vars:
    dummy: &dummy 100.0

bg_alpha:
  type: slider

radius:
  type: slider
  range: [0.0, 500.0]
  default: *dummy

hue:
  type: slider
  default: 0.3

pos_x:
  type: osc
  range: [-1.0, 1.0]
  default: 0.0

pos_y:
  type: lerp_abs
  keyframes:
    - ['0.0.0', 0.0]
    - ['0.1.0', 1.0]
    - ['0.2.0', 0.0]

pos_x2:
  type: r_ramp_rel
  ramp: linear
  ramp_time: 0.25
  keyframes:
    - [1.5, [-1.0, -0.5]]
    - [1.5, [-0.25, 0.25]]
    - [1.0, [0.5, 1.0]]

pos_x3:
  type: triangle
  beats: 2.0
  range: [-0.5, 0.5]
  phase_offset: 0.0

rect_y:
  type: audio
  channel: 0
  slew: [0.2, 0.95]
  detect: 0.5
  pre: 0.0
  range: [0, 1]

line:
  _line_freq: &line_freq 1.0
  _line_amp: &line_amp 0.125
  type: automate
  breakpoints:
    - position: 0.0
      value: 0.25
      kind: step

    - position: 4.0
      value: 0.25
      kind: ramp

    - position: 8.0
      value: 0.75
      kind: ramp

    - position: 12.0
      value: 0.1
      kind: wave
      shape: sine
      frequency: *line_freq
      amplitude: *line_amp
      easing: linear
      constrain: clamp

    - position: 16.0
      value: 0.9
      kind: wave
      shape: sine
      freq: *line_freq
      amp: *line_amp
      easing: linear
      constrain: clamp

    - position: 20.0
      value: 0.0
      kind: random_smooth
      freq: *line_freq
      amp: *line_amp

    - position: 24.0
      value: 0.9
      kind: end

radius_small:
  _description: white ball
  type: lerp_rel
  keyframes:
    - [1.0, 5.0]
    - [1.0, 100.0]
    - [0.0, 5.0]

radius_small_amt:
  type: slider

radius_small_folder:
  type: effect
  kind: fold
  gain: 2.0
  range: [5, 100]

radius_small_modulation:
  type: mod
  source: radius_small
  modulators:
    - radius_small_folder
    - radius_small_amt

red_ball_radius:
  type: automate
  mode: loop
  breakpoints:
    - kind: random
      position: 0.0
      value: 100.0
      amplitude: 50.0
    - kind: end
      position: 1.0
      value: 0.0

red_ball_radius_hyst:
  type: effect
  kind: hysteresis
  lower_threshold: 75
  upper_threshold: 125
  output_low: 50
  output_high: 200
  pass_through: true
red_ball_radius_slew:
  type: effect
  kind: slew_limiter
  rise: 0.7
  fall: 0.7
red_ball_radius_quant:
  type: effect
  kind: quantizer
  step: 0.125
  range: [50, 150]
red_ball_radius_rm:
  type: effect
  kind: ring_modulator
  mix: 0.5
  modulator: rm_mod
  range: [10, 150]
rm_mod:
  type: triangle
  beats: 1.0
  range: [50, 150]

red_ball_radius_mods:
  type: mod
  source: red_ball_radius
  modulators:
    - red_ball_radius_hyst
    - red_ball_radius_slew
    - red_ball_radius_quant
    - red_ball_radius_rm
